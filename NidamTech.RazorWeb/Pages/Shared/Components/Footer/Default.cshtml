@using NidamTech.RazorWeb.Models.Regions.SiteRegions
@using NidamTech.RazorWeb.Models.Sites
@inject Piranha.IApi Api;

@{
    SiteFooter SiteFooter = null;
    SiteInfo SiteInfo = null;
    if (Api.Sites.GetContentByIdAsync<DefaultSite>(WebApp.Site.Id).Result != null)
    {
        SiteFooter = Api.Sites.GetContentByIdAsync<DefaultSite>(WebApp.Site.Id).Result.Footer;
        SiteInfo = Api.Sites.GetContentByIdAsync<DefaultSite>(WebApp.Site.Id).Result.Info;
    }
}

<footer class="footer-padding">
    <div class="container">
        <div class="row">
            <div class="col-sm-8 offset-sm-2 text-center">
                <span class="icon-handle-streamline-vector logo"></span>

                <h2>@(SiteFooter != null && !string.IsNullOrEmpty(SiteFooter.Title.Value) ? SiteFooter.Title.Value : "Title Missing")</h2>

                @if (SiteFooter != null && !string.IsNullOrEmpty(SiteFooter.TwitterLink.Value))
                {
                    <a href=@SiteFooter.TwitterLink.Value>
                        <i class="fab fa-twitter"></i>
                    </a>
                }

                @if (SiteFooter != null && !string.IsNullOrEmpty(SiteFooter.FacebookLink.Value))
                {
                    <a href=@SiteFooter.FacebookLink.Value>
                        <i class="fab fa-facebook-f"></i>
                    </a>
                }
            </div>
        </div>
        <div class="row">
            <div class="col-sm-8 offset-sm-2 text-small text-center">
                <hr>
                <button type="button" class="btn btn-primary btn-lg">Up</button>
                @if (SiteInfo != null && !string.IsNullOrEmpty(SiteInfo.SiteOwnerName.Value))
                {
                    <p class="no-margin">Â© @SiteInfo.SiteOwnerName.Value</p>
                }

            </div>
        </div>
    </div>
</footer>